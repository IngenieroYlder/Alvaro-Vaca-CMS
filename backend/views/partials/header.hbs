<nav class="fixed w-full z-50 top-0 bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-sm"
    x-data="{ mobileMenuOpen: false }" aria-label="Navegación principal" role="navigation">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20 md:h-auto py-2">
            <!-- Logo -->
            <a href="/" class="flex items-center space-x-3">
                <img src="/assets/1_LOGO.webp" alt="Logo Alvaro Vaca" class="h-16 md:h-20 w-auto object-contain">
                <img src="/assets/4_LOGO.webp" alt="Partido Alianza Verde #75"
                    class="h-12 md:h-16 w-auto object-contain">
            </a>

            <!-- Desktop Menu -->
            <div class="hidden lg:flex items-center space-x-8">
                <a href="/"
                    class="{{#if (eq activePage 'inicio')}}text-primary font-bold{{else}}text-gray-600 hover:text-primary font-semibold{{/if}} transition-colors">Inicio</a>
                <a href="/biografia"
                    class="{{#if (eq activePage 'biografia')}}text-primary font-bold{{else}}text-gray-600 hover:text-primary font-semibold{{/if}} transition-colors">Biografía</a>
                <a href="/propuestas"
                    class="{{#if (eq activePage 'propuestas')}}text-primary font-bold{{else}}text-gray-600 hover:text-primary font-semibold{{/if}} transition-colors">Propuestas</a>
                <a href="/noticias"
                    class="{{#if (eq activePage 'noticias')}}text-primary font-bold{{else}}text-gray-600 hover:text-primary font-semibold{{/if}} transition-colors">Noticias</a>
                <a href="/contacto"
                    class="{{#if (eq activePage 'contacto')}}text-primary font-bold{{else}}text-gray-600 hover:text-primary font-semibold{{/if}} transition-colors">Contacto</a>
                <a href="/reuniones/registro"
                    class="{{#if (eq activePage 'registro')}}text-primary font-bold{{else}}text-gray-600 hover:text-primary font-semibold{{/if}} transition-colors">Asistencia</a>
                <!-- Admin Link (Optional) -->
                <!-- Admin Link Removed as per request -->
            </div>

            <!-- CTA Button -->
            <div class="flex items-center space-x-4">
                <button onclick="openJoinModal()"
                    class="hidden lg:inline-flex items-center px-6 py-2 border border-transparent text-sm font-bold rounded-full text-white shadow-md transform hover:-translate-y-0.5 transition-all cursor-pointer"
                    style="background-color: #F89621 !important;">
                    <span class="material-icons-round text-sm mr-2">how_to_vote</span>
                    Súmate
                </button>
                <!-- Mobile Menu Button -->
                <button @click="mobileMenuOpen = !mobileMenuOpen"
                    class="lg:hidden p-2 text-gray-600 hover:text-primary focus:outline-none"
                    aria-label="Abrir menú de navegación">
                    <span class="material-icons-round text-3xl">menu</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div x-show="mobileMenuOpen" x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 -translate-y-10" x-transition:enter-end="opacity-100 translate-y-0"
        x-transition:leave="transition ease-in duration-150" x-transition:leave-start="opacity-100 translate-y-0"
        x-transition:leave-end="opacity-0 -translate-y-10"
        class="lg:hidden fixed inset-0 z-50 bg-white h-screen w-full overflow-y-auto">

        <div class="flex flex-col h-full">
            <div class="flex justify-between items-center p-4 border-b border-gray-100">
                <img src="/assets/1_LOGO.webp" alt="Logo Alvaro Vaca" class="h-12 w-auto object-contain">
                <button @click="mobileMenuOpen = false" class="p-2 text-gray-600 hover:text-primary focus:outline-none">
                    <span class="material-icons-round text-3xl">close</span>
                </button>
            </div>
            <div class="flex flex-col space-y-4 p-6 text-center text-lg font-medium">
                <a href="/" class="text-primary py-2">Inicio</a>
                <a href="/biografia"
                    class="{{#if (eq activePage 'biografia')}}text-primary font-bold{{else}}text-gray-600 hover:text-primary{{/if}} py-2">Biografía</a>
                <a href="/propuestas"
                    class="{{#if (eq activePage 'propuestas')}}text-primary font-bold{{else}}text-gray-600 hover:text-primary{{/if}} py-2">Propuestas</a>
                <a href="/noticias" class="text-gray-600 hover:text-primary py-2">Noticias</a>
                <a href="/contacto" class="text-gray-600 hover:text-primary py-2">Contacto</a>
                <a href="/reuniones/registro" class="text-gray-600 hover:text-primary py-2">Registro Asistencia</a>
                <!-- <a href="/login-candidato" class="text-sm text-gray-400 py-2">Acceso Candidatos</a> -->
                <button onclick="openJoinModal();" @click="mobileMenuOpen = false"
                    class="bg-primary text-white px-6 py-3 rounded-full font-bold shadow-lg mt-4">
                    ¡Súmate!
                </button>
            </div>
        </div>
    </div>
</nav>

<!-- Alpine.js for Mobile Menu interactions (if not already included in layout) -->
<script src="//unpkg.com/alpinejs" defer></script>